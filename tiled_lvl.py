from script import *

from script.elements import Rect, Box, Gun
from script.enemy import Enemy
from script.player import Tank
s = [
    "11111111111111111111111",
    "11111111111111111111111",
    "10022022220200022000061",
    "10000000000022000000001",
    "10080011111100002222001",
    "10222220100000000000001",
    "10222002222200020022001",
    "12220002222200000022001",
    "10000000102200022222221",
    "12220000102200080100001",
    "10000000222222222122001",
    "10400000002200000100001",
    "11111111111111111111111",
]
lvl_0 = [
    "11111111111111111111111",
    "10022000020002222000001",
    "10022022220200022000061",
    "10000000000022000000001",
    "10080011111100002222001",
    "10222220100000000000001",
    "10222002222200020022001",
    "02220002222200000022001",
    "00000000102200022222221",
    "12220000102200080100001",
    "10000000222222222122001",
    "10400000002200000100001",
    "11111111111111111111111",
]

lvl_1 = [
    "11111111111111111111111",
    "10000000000000000000001",
    "10022000222000022004001",
    "10000111100222000000001",
    "10000000000000000000001",
    "10000000000000001111111",
    "10000000002200000022001",
    "10000000002210000022001",
    "12220006002201022222221",
    "10000100002200100000001",
    "10000100222222222222001",
    "12222100002200000000001",
    "11111111111111111111111",
]
v2 = [
    "11111111111111111111111",
    "11111111111111111111111",
    "11111222211111112211111",
    "11111211121111122211111",
    "11111211121111112211111",
    "11111222211111112211111",
    "11111211111111122221111",
    "11111111111111111111211",
    "11211121122211221121211",
    "11212121211121212121211",
    "11121211122211211221111",
    "11111111111111111111211",
    "11111111111111111111111",
]
v1 = [
    "11111111111111111111111",
    "11111111111111111111111",
    "11111222211122222211111",
    "11111211121111111211111",
    "11111211121122222211111",
    "11111222211121111111111",
    "11111211111122222211111",
    "11111111111111111111211",
    "11211121122211221121211",
    "11212121211121212121211",
    "11121211122211211221111",
    "11111111111111111111211",
    "11111111111111111111111",
]

lvl_map = {
    "lvl_0": lvl_0,
    "lvl_1": lvl_1,
    "v1": v1,
    "v2": v2,
    "s":s

}

# __CONSTANS__#
SPACEMAP = 42


class Tiled:

    def __init__(self, lvl, game):
        self.lvl = lvl
        self.list_polygon = []
        self.game = game

    def make_map(self,lvl, SPACEMAP):
        tmp_surface = pg.Surface(self.game.surface.get_size())
        # tmp_surface.fill(pg.Color("#06095A"))
        tmp_surface.fill(pg.Color("#999999"))
        # tmp_surface.fill((0,0,0))
        self.lvl = lvl
        for i, lista in enumerate(self.lvl):
            for j, tile in enumerate(lista):

                if tile == "0":
                    pass
                elif tile == "1":
                    self.game.obs.add(Rect(j * SPACEMAP, i * SPACEMAP, self.game, tmp_surface))
                elif tile == "2":
                    self.game.obs.add(Box(j * SPACEMAP, i * SPACEMAP, self.game))
                elif tile == "3":
                    self.game.enemies.add(Enemy(j * SPACEMAP, i * SPACEMAP, self.game))
                elif tile == "4":
                    self.game.player = Tank(j * SPACEMAP, i * SPACEMAP, self.game)
                    self.game.sprites.add(self.game.player)
                elif tile == "6":
                    self.game.player_2 = Tank(j * SPACEMAP, i * SPACEMAP, self.game, value=1)
                    self.game.sprites.add(self.game.player_2)

                elif tile == "8":
                    self.game.objs.add(Gun(j * SPACEMAP, i * SPACEMAP, self.game))

        return tmp_surface

